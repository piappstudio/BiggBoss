package model

import io.ktor.http.hostIsIp
import kotlinx.serialization.json.Json
import org.junit.Before
import org.junit.Test
import ui.chart.RenderBarChart
import ui.theme.smallBossHouse

class HistoryItemTest {
    val strJson = "{\"voting_options\":{\"official_vote\":[{\"name\":\"Disney-HOTSTAR- BIGG BOSS 7 Page\",\"link\":\"https://play.google.com/store/apps/details?id=com.disney.disneyplus\"}],\"unofficial_voting\":[{\"name\":\"Pi App Studio\",\"link\":\"https://strawpoll.com/poy9Wp22OgJ\"},{\"name\":\"TamilGlitz\",\"link\":\"https://tamilglitz.in/bigg-boss-tamil-vote/\"},{\"name\":\"Bigg Boss Vote Tamil\",\"link\":\"https://www.biggbossvotestamil.com/\"}],\"polls\":[{\"name\":\"Discussing Caste name in Bigg Boss show is ?\",\"link\":\"https://strawpoll.com/mpnbo6WjQg5\"}]},\"notifications\":[],\"notification_history\":[{\"title\":\"Week 2: No eliminations\",\"message\":\"Due to Bava Chelladurai eviction, Week-2 nomination is called off on 12th October 2023\"}],\"participants\":[{\"name\":\"Akshaya\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/akshaya_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/akshaya.png\",\"id\":\"1\",\"eliminated_date\":\"2023-11-26\",\"isNominated\":false,\"dial_number\":\"8886602471\",\"history\":[{\"week\":1,\"notes\":[],\"nominates\":[12,3]},{\"week\":2,\"notes\":[\"Arrest Warrant\",\"GS\"],\"nominates\":[11,17]},{\"week\":3,\"notes\":[\"Nominated\"],\"nominates\":[16,13]},{\"week\":4,\"notes\":[\"Nominated\",\"SBH\",\"Nominated\",\"Direct Nomination\",\"Good play at double star task\"],\"nominates\":[16,5]},{\"week\":5,\"note\":[\"Nominated\",\"Love content with RJ Bravo as per Pradeep Plan\",\"Jail\"],\"nominates\":[19,23]},{\"week\":6,\"notes\":[],\"nominates\":[19,14]},{\"week\":7,\"notes\":[\"Nominated\"],\"nominates\":[14,7]},{\"week\":8,\"notes\":[\"Nominated\",\"Direct nomination from Vishnu\"],\"nominates\":[14,21]}]},{\"name\":\"Ananya\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/ananya_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/ananya.png\",\"id\":\"2\",\"eliminated_date\":\"2023-10-08\",\"re_entry_date\":\"2023-11-26\",\"dial_number\":\"8886602472\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Nominated\",\"SBH\",\"Eliminated\"],\"nominates\":[6,18]},{\"week\":9,\"notes\":[\"Nominated\"],\"nominates\":[5,10]},{\"week\":10,\"notes\":[\"SBH\"],\"nominates\":[22,7]}]},{\"name\":\"Aishu\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/aishu_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/aishu.png\",\"id\":\"3\",\"eliminated_date\":\"2023-11-12\",\"dial_number\":\"8886602470\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Nominated\",\"SBH\"],\"nominates\":[6,11]},{\"week\":2,\"notes\":[\"SBH\",\"Joined With Maaya for Planning\"],\"nominates\":[1,6]},{\"week\":3,\"notes\":[\"Nominated\"],\"nominates\":[10,11]},{\"week\":4,\"notes\":[\"Influenced by Maya\",\"Use words like Cheeri Alunga\",\"Planned with Vishnu in double star task\"],\"nominates\":[18,7]},{\"week\":5,\"note\":[\"Nominated\",\"Love content with Pradeep & Nixen\",\"Triggered Archana\"],\"nominates\":[22,19]},{\"week\":6,\"notes\":[\"Nominated\"],\"nominates\":[19,22]}]},{\"name\":\"Chelladurai\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/bava_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/bava.png\",\"id\":\"4\",\"eliminated_date\":\"2023-10-09\",\"isNominated\":false,\"dial_number\":\"8886602473\",\"history\":[{\"week\":1,\"notes\":[\"Nominated\",\"SBH\",\"Conflicts in Education\"],\"nominates\":[5,11]},{\"week\":2,\"notes\":[\"Eliminated (Self)\"]}]},{\"name\":\"Cool Suresh\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/cool_suresh_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/cool_suresh.png\",\"id\":\"5\",\"dial_number\":\"8886602474\",\"eliminated_date\":\"\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Conflicts with Maya\"],\"nominates\":[3,4]},{\"week\":2,\"notes\":[\"SBH\"],\"nominates\":[6,1]},{\"week\":3,\"notes\":[\"Won game against Pradeep\"],\"nominates\":[13,11]},{\"week\":4,\"notes\":[\"Nominated\",\"Picked Aishu & Vishnu photo in double star task\",\"Give up Vishnu photo in last minute\",\"Rule Break (Entered SBH)\"],\"nominates\":[9,6]},{\"week\":5,\"note\":[\"Conflicts with Pradeep on bell task\"],\"nominates\":[23,19]},{\"week\":6,\"notes\":[\"SBH\"],\"nominates\":[3,10]},{\"week\":7,\"notes\":[],\"nominates\":[13,1]},{\"week\":8,\"notes\":[],\"nominates\":[21,13]},{\"week\":9,\"notes\":[\"SBH\",\"Nominated\",\"Conflicts with Vichitra\"],\"nominates\":[8,14]},{\"week\":10,\"notes\":[],\"nominates\":[13,9]}]},{\"name\":\"Jovika\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/jovika_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/jovika.png\",\"id\":\"6\",\"eliminated_date\":\"2023-12-03\",\"isNominated\":false,\"dial_number\":\"8886602476\",\"history\":[{\"week\":1,\"notes\":[\"Nominated\",\"Against Education\",\"Disrespecting\"],\"nominates\":[3,12]},{\"week\":2,\"notes\":[\"Nominated\",\"Pradeep: வாடா, போடா, முட்டு இரு\"],\"nominates\":[17,8]},{\"week\":3,\"nominates\":[16,17]},{\"week\":4,\"notes\":[\"Nominated\",\"SBH\",\"GS (Winner of double Gold Star task)\",\"GS\"],\"nominates\":[13,5]},{\"week\":5,\"note\":[],\"nominates\":[22,19]},{\"week\":6,\"notes\":[],\"nominates\":[22,14]},{\"week\":7,\"notes\":[],\"nominates\":[7,13]},{\"week\":8,\"notes\":[\"SBH\"],\"nominates\":[9,19]},{\"week\":9,\"notes\":[\"Nominated\"],\"nominates\":[5,13]}]},{\"name\":\"Manichandra\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/mainchandra_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/manichandra.png\",\"id\":\"7\",\"dial_number\":\"8886602477\",\"eliminated_date\":\"\",\"isNominated\":true,\"history\":[{\"week\":1,\"notes\":[\"GS\"],\"nominates\":[4,2]},{\"week\":2,\"notes\":[\"Love Content With Raveena\"],\"nominates\":[8,17]},{\"week\":3,\"notes\":[\"Nominated\",\"Lost game against Vishnu\"],\"nominates\":[8,10]},{\"week\":4,\"notes\":[\"Nominated\",\"SBH\",\"Won cleaning task against Vishnu\",\"Lost bathroom cleaning task again Vishnu\"],\"nominates\":[8,16]},{\"week\":5,\"note\":[\"Nominated\"],\"nominates\":[22,19]},{\"week\":6,\"notes\":[\"SBH\",\"GS (BB Court vs Nixen)\"],\"nominates\":[3,21]},{\"week\":7,\"notes\":[\"Nominated\",\"GS-1 (Argument Girls vs Boys)\"],\"nominates\":[1,21]},{\"week\":8,\"notes\":[\"Nominated\"],\"nominates\":[10,21]},{\"week\":9,\"notes\":[\"Nominated\",\"Has red card point to Nixen\",\"Accusing Nixen for captaincy task\"],\"nominates\":[15,10]},{\"week\":10,\"notes\":[\"Nominated\"],\"nominates\":[2,9]}]},{\"name\":\"Maya\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/maya_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/maya_pp.png\",\"id\":\"8\",\"dial_number\":\"8886602478\",\"eliminated_date\":\"\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Supported Jovika\",\"Issue with Cool Suresh\"],\"nominates\":[12,9]},{\"week\":2,\"notes\":[\"Nominated\",\"SBH\",\"Strike Concept\",\"Irritating Dancing\"],\"nominates\":[7,14]},{\"week\":3,\"notes\":[\"SBH\",\"Nominated\",\"GS\"],\"nominates\":[7,14]},{\"week\":4,\"notes\":[\"Nominated\",\"Eliminate Mani & Raveena in double start task\",\"Triggered by Vichitra\",\"Rule Break (Entered SBH)\"],\"nominates\":[7,9]},{\"week\":5,\"note\":[\"Nominated\",\"Bullying Archana\"],\"nominates\":[21,20]},{\"week\":6,\"notes\":[\"Captain\"],\"nominates\":[14,19]},{\"week\":7,\"notes\":[],\"nominates\":[7,23]},{\"week\":8,\"notes\":[\"Nominated\",\"Direct nomination from Vishnu\"],\"nominates\":[17,21]},{\"week\":9,\"notes\":[\"3rd Bell against Nixen\",\"Discussing bell strategy with Poornima\"],\"nominates\":[13,10]},{\"week\":10,\"notes\":[],\"nominates\":[2,12]}]},{\"name\":\"Nixen\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/nixon_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/nixon.png\",\"id\":\"9\",\"dial_number\":\"8886602479\",\"eliminated_date\":\"\",\"isNominated\":true,\"history\":[{\"week\":1,\"notes\":[\"SBH\"],\"nominates\":[11,6]},{\"week\":2,\"notes\":[\"Fight With Pradeep\"],\"nominates\":[11,17]},{\"week\":3,\"notes\":[\"Nominated\",\"Break the glass\"],\"nominates\":[16,8]},{\"week\":4,\"notes\":[\"Nominated\",\"SBH\",\"Disappointed in captain selection \",\"Raised voice for Akshaya\",\"Raised voice against Vishnu\"],\"nominates\":[5,13]},{\"week\":5,\"note\":[\"Love content with Aishu\"],\"nominates\":[21,20]},{\"week\":6,\"notes\":[],\"nominates\":[22,7]},{\"week\":7,\"notes\":[\"GS (Unnai Pol Oruvan)\"],\"nominates\":[14,7]},{\"week\":8,\"notes\":[],\"nominates\":[14,10]},{\"week\":9,\"notes\":[\"Captain\",\"Saved himself captaincy\",\"Well arguments\"],\"nominates\":[19,13]},{\"week\":10,\"notes\":[\"Nominated\",\"SBH\"],\"nominates\":[19,7]}]},{\"name\":\"Poornima\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/poornima_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/poornima.png\",\"id\":\"10\",\"eliminated_date\":\"\",\"isNominated\":false,\"dial_number\":\"8886602480\",\"history\":[{\"week\":1,\"notes\":[],\"nominates\":[3,2]},{\"week\":2,\"notes\":[\"Nominated\",\"Love Content with Saravana\",\"Gossip With Maya\",\"Oats குடிங்க\"],\"nominates\":[11,5]},{\"week\":3,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[7,14]},{\"week\":4,\"notes\":[\"Captain\",\"Hide photos in double star\",\"Provides chairs to small boss house\",\"Appreciated as leader by BB\",\"Influenced by Maya\"],\"nominates\":[7,6]},{\"week\":5,\"notes\":[\"Captain\",\"GS\",\"Bulling wild card contestant\",\"Unfair SBH selection\"],\"nominates\":[20,21]},{\"week\":6,\"notes\":[\"Nominated\"],\"nominates\":[22,14]},{\"week\":7,\"notes\":[\"Nominated\",\"Demanding to call her her back as MAM from Vichitra\"],\"nominates\":[7,12]},{\"week\":8,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[7,12]},{\"week\":9,\"notes\":[\"SBH\",\"Nominated\",\"Help to save Nixen captaincy\",\"Change her position at 3rd time\",\"Try to solve Vishnu & Archana issue\"],\"nominates\":[7,2]},{\"week\":10,\"notes\":[\"SBH\"],\"nominates\":[22,7]}]},{\"name\":\"Pradeep\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/pradeep_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/pradeep.png\",\"id\":\"11\",\"eliminated_date\":\"2023-11-03\",\"isNominated\":false,\"dial_number\":\"8886602481\",\"history\":[{\"week\":1,\"notes\":[\"Nominated\",\"Immature Talk\",\"Warning from Kamal\"],\"nominates\":[16,2]},{\"week\":2,\"notes\":[\"SBH\",\"Nominated\",\"Nixen: பொறுக்கி\",\"Saravan: வாய ஒடச்சிடுவேன்\"],\"nominates\":[10,14]},{\"week\":3,\"notes\":[\"SBH\",\"Nominated\",\"Lost game against Cool Suresh\",\"Uses bad words against Nixen\",\"Intentionally locking Vijay Varma\"],\"nominates\":[1,3]},{\"week\":4,\"notes\":[\"Nominated\",\"SBH\",\"Triggering Vishnu during nomination\",\"Rule Break (Entered BB house)\",\"GS (Video clip task)\"],\"nominates\":[5,8]},{\"week\":5,\"notes\":[\"RED Card\",\"Bullying Archana\",\"Suggest love content to Akashya\",\"Use love content with Aishu\",\"Abusive words to Cool Suresh\"],\"nominates\":[19,23]}]},{\"name\":\"Raveena\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/raveena.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/raveena_pp.png\",\"id\":\"12\",\"eliminated_date\":\"\",\"isNominated\":false,\"dial_number\":\"8886602482\",\"history\":[{\"week\":1,\"notes\":[\"Nominated\"],\"nominates\":[6,18]},{\"week\":2,\"notes\":[\"Love Content With Mani\"],\"nominates\":[17,8]},{\"week\":3,\"nominates\":[10,8]},{\"week\":4,\"notes\":[\"Done well with family task\",\"Eliminated Poornima in double star task\",\"Rule break (Entered to SBH)\"],\"nominates\":[18,6]},{\"week\":5,\"note\":[\"Love content with Mani\"],\"nominates\":[22,21]},{\"week\":6,\"notes\":[\"SBH\"],\"nominates\":[3,21]},{\"week\":7,\"notes\":[\"Nominated\",\"Sharing gossip info to Nixen\"],\"nominates\":[13,19]},{\"week\":8,\"notes\":[\"Nominated\"],\"nominates\":[14,6]},{\"week\":9,\"notes\":[\"Said, I'm enjoying fight with Archana\",\"Called Jovika as Gang\"],\"nominates\":[13,10]},{\"week\":10,\"notes\":[\"SBH\"],\"nominates\":[8,14]}]},{\"name\":\"Saravana Vickram\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/saravana_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/saravana.png\",\"id\":\"13\",\"eliminated_date\":\"\",\"isNominated\":false,\"dial_number\":\"8886602483\",\"history\":[{\"week\":1,\"nominates\":[9,2]},{\"week\":2,\"notes\":[\"Captain\"],\"nominates\":[17,5]},{\"week\":3,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[15,3]},{\"week\":4,\"notes\":[\"Nominated\",\"Defend Akshaya during Vishnu conflicts\",\"GS\"],\"nominates\":[9,11]},{\"week\":5,\"note\":[],\"nominates\":[20,21]},{\"week\":6,\"notes\":[\"Got knockout from Vichitra & Archana\"],\"nominates\":[22,19]},{\"week\":7,\"notes\":[\"Nominated\"],\"nominates\":[17,21]},{\"week\":8,\"notes\":[\"SBH\"],\"nominates\":[7,19]},{\"week\":9,\"notes\":[\"SBH\",\"Nominated\",\"Nose cut to Archana while she bullying\",\"Tea fight with Archana\"],\"nominates\":[7,14]},{\"week\":10,\"notes\":[\"SBH\"],\"nominates\":[19,14]}]},{\"name\":\"Vichithra\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vichitra_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vichitra.png\",\"id\":\"14\",\"eliminated_date\":\"\",\"dial_number\":\"8886602475\",\"isNominated\":true,\"history\":[{\"week\":1,\"notes\":[\"SBH\",\"Rule Break\",\"Support Education\",\"Tattoo issue\"],\"nominates\":[2,3]},{\"week\":2,\"notes\":[\"Nominated\",\"Created Cleaning Content\"],\"nominates\":[17,8]},{\"week\":3,\"notes\":[\"Nominated\"],\"nominates\":[8,17]},{\"week\":4,\"notes\":[\"Target Pradeep\",\"Roasted Maya during review\"],\"nominates\":[18,11]},{\"week\":5,\"notes\":[\"SBH\",\"Clever play for NOT allowing BH to nominate\",\"GS (Won Gold Star on bell task)\",\"Rule Break\"],\"nominates\":[8,7]},{\"week\":6,\"notes\":[\"SBH\",\"Nominated\",\"Rule Break\",\"Use Pradeep card in nomination\",\"Send Archana for shopping\",\"GS (BB Court vs Poornima)\"],\"nominates\":[9,3]},{\"week\":7,\"notes\":[\"Nominated\",\"Try to trigger Maya in task\",\"Demanding to call her as MAM\",\"Jail\",\"Rule Break\"],\"nominates\":[13,12]},{\"week\":8,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[12,7]},{\"week\":9,\"notes\":[\"Nominated\",\"Archana accusing her for standup in favor\"],\"nominates\":[5,13]},{\"week\":10,\"notes\":[\"Nominated\"],\"nominates\":[15,10]}]},{\"name\":\"Vijay Varma\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vijay_varma_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vijay_varma.png\",\"id\":\"15\",\"dial_number\":\"8886602484\",\"eliminated_date\":\"2023-10-21\",\"re_entry_date\":\"2023-11-26\",\"re_evicted_date\":null,\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Captain\",\"Yellow Card\"],\"nominates\":[4,2]},{\"week\":2,\"notes\":[\"SBH\"],\"nominates\":[1,10]},{\"week\":3,\"notes\":[\"Evicted\",\"Nominated\",\"Won game against Mani\",\"Slammed Pradeep on ground\",\"Using hands on Vishnu's Neck\"],\"nominates\":[16,13]},{\"week\":9,\"notes\":[\"SBH\"],\"nominates\":[7,12]},{\"week\":10,\"notes\":[\"SBH\"],\"nominates\":[7,22]}]},{\"name\":\"Vinusha Devi\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vishuna_devi_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vishuna_devi.png\",\"id\":\"16\",\"dial_number\":\"8886602485\",\"eliminated_date\":\"2023-10-29\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Nominated\"],\"nominates\":[18,8]},{\"week\":2,\"notes\":[\"Arrest Warrant\"],\"nominates\":[8,17]},{\"week\":3,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[15,9]},{\"week\":4,\"notes\":[\"Nominated\"],\"nominates\":[11,18]}]},{\"name\":\"Vishnu\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vishnu_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/vishnu.png\",\"id\":\"17\",\"isCaptain\":true,\"eliminated_date\":\"\",\"dial_number\":\"8886602486\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Loose Talk\"],\"nominates\":[4,3]},{\"week\":2,\"notes\":[\"Nominated\",\"SBH\"],\"nominates\":[1,6]},{\"week\":3,\"notes\":[\"SBH\"],\"nominates\":[9,1]},{\"week\":4,\"notes\":[\"Nominated\",\"Conflict with Pradeep for target\",\"Fight with Akshya during task\",\"Planning with Maya & Poornima\"],\"nominates\":[11,9]},{\"week\":5,\"note\":[\"Clever play not bullying SBH\",\"Supporting Cool Suresh on Pradeep's abusive bullying\"],\"nominates\":[19,20]},{\"week\":6,\"notes\":[\"Not joining with Bullies gang\",\"GS (BB Court vs Poornima)\",\"GS (BB Court Judge)\",\"Jail\"],\"nominates\":[14,19]},{\"week\":7,\"notes\":[\"Fight with Dinesh in Secrete task\"],\"nominates\":[13,1]},{\"week\":8,\"notes\":[\"SBH\",\"Direct nomination\"],\"nominates\":[8,1]},{\"week\":9,\"notes\":[\"SBH\",\"GS (Entertainment)\",\"Fight with Archana\",\"Accused as manhandling by Archana\"],\"nominates\":[2,6]},{\"week\":10,\"notes\":[],\"nominates\":[15,9]}]},{\"name\":\"Yugendran\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/yugendran_pp.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/yugendran.png\",\"id\":\"18\",\"eliminated_date\":\"2023-10-29\",\"dial_number\":\"8886602487\",\"isNominated\":false,\"history\":[{\"week\":1,\"notes\":[\"Nominated\"],\"nominates\":[12,2]},{\"week\":2,\"nominates\":[17,8]},{\"week\":3,\"notes\":[\"Captain\"],\"nominates\":[8,11]},{\"week\":4,\"notes\":[\"Nominated\",\"SBH\"],\"nominates\":[16,8]}]},{\"name\":\"Archana\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/archana.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/archana_pp.png\",\"id\":\"19\",\"start_date\":\"2023-10-29\",\"eliminated_date\":\"\",\"dial_number\":\"8886602491\",\"isNominated\":true,\"history\":[{\"week\":5,\"notes\":[\"SBH\",\"Nominated\",\"Demanding Respect\"],\"nominates\":[7,1]},{\"week\":6,\"notes\":[\"SBH\",\"Nominated\",\"Rule Break\",\"Said F**K word\",\"Personal attack on Aishu\",\"Use Pradeep card\"],\"nominates\":[1,13]},{\"week\":7,\"notes\":[\"Rule Break\",\"Mocking Vickraman\",\"Bullying Raveena\",\"Group with Vichitra\"],\"nominates\":[8,10]},{\"week\":8,\"notes\":[\"Nominated\"],\"nominates\":[10,6]},{\"week\":9,\"notes\":[\"SBH\",\"Mocking, Bullying Vishnu\",\"Bullying Vickraman\",\"Accusing Vichitra\",\"Accusing Nixen for being in favor of their team\",\"Backbiting Vichitra\"],\"nominates\":[6,2]},{\"week\":10,\"notes\":[\"Nominated\"],\"nominates\":[10,9]}]},{\"name\":\"Anna Bharathi\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/annabharathi.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/annabharathi_pp.png\",\"id\":\"20\",\"start_date\":\"2023-10-29\",\"eliminated_date\":\"2023-11-04\",\"dial_number\":\"8886602488\",\"isNominated\":false,\"history\":[{\"week\":5,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[1,8]}]},{\"name\":\"R J Bravo\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/bravo.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/bravo_pp.png\",\"id\":\"21\",\"start_date\":\"2023-10-29\",\"eliminated_date\":\"2023-11-25\",\"dial_number\":\"8886602492\",\"isNominated\":false,\"history\":[{\"week\":5,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[8,3]},{\"week\":6,\"notes\":[\"Nominated\"],\"nominates\":[12,14]},{\"week\":7,\"notes\":[\"Nominated\"],\"nominates\":[23,14]},{\"week\":8,\"notes\":[\"SBH\",\"Nominated\"],\"nominates\":[19,7]}]},{\"name\":\"Dinesh Gopalsamy\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/ganesh.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/ganesh_pp.png\",\"id\":\"22\",\"start_date\":\"2023-10-29\",\"eliminated_date\":\"\",\"dial_number\":\"8886602490\",\"isNominated\":true,\"history\":[{\"week\":5,\"notes\":[\"SBH\",\"Nominated\",\"Conflicts with Maya & Poornima\"],\"nominates\":[3,7]},{\"week\":6,\"notes\":[\"SBH\",\"Nominated\",\"Use Pradeep card\",\"GS (BB Court vs Maya)\"],\"nominates\":[10,3]},{\"week\":7,\"notes\":[\"Captain\",\"Handle Vichitra & Archana in Jail issue\",\"Acting as Akshya\"],\"nominates\":[10,13]},{\"week\":8,\"notes\":[\"Captain\"],\"nominates\":[10,14]},{\"week\":9,\"notes\":[\"Nominated\",\"Backbiting about Archana\",\"Stoping Cool Suresh not making noise\",\"Being rude in knot task\"],\"nominates\":[13,17]},{\"week\":10,\"notes\":[\"Nominated\"],\"nominates\":[13,9]}]},{\"name\":\"Gana Bala\",\"image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/bala.png\",\"full_image\":\"https://raw.githubusercontent.com/piappstudio/resources/main/biggboss/images/shows/tamil/session7/participants/bala_pp.png\",\"id\":\"23\",\"start_date\":\"2023-10-29\",\"eliminated_date\":\"2023-11-19\",\"dial_number\":\"8886602489\",\"isNominated\":false,\"history\":[{\"week\":5,\"notes\":[\"SBH\",\"Nominated\",\"Song is super\"],\"nominates\":[5,13]},{\"week\":6,\"notes\":[],\"nominates\":[22,19]},{\"week\":7,\"notes\":[\"Nominated\"],\"nominates\":[10,21]}]}]}"

    lateinit var  showDetail:ShowDetail

    @Before
    fun onStart() {
        showDetail = Json { ignoreUnknownKeys =true }.decodeFromString<ShowDetail>(strJson)
    }


    @Test
    fun testGoldStarCount() {
        showDetail.participants.let { lst->
            lst?.forEach { participantItem ->
                val allNotes = participantItem.history?.flatMap { it.notes?: emptyList() }
                allNotes?.count { note -> note.contains("GS", true) }

            }


        }
    }
    @Test
    fun testWhoINominatedFor() {
        showDetail.participants.let {
            val week7 =  it?.filter { part-> part.history?.firstOrNull { historyItem -> historyItem.week == 7 && historyItem.notes?.contains("Nominated") == true}!=null

            }
        println(week7)
        }

        showDetail.participants?.let {

           var mapOfParticipantItem = numberOfTimesInominates(it.filter { it.id?.toInt() != 22 }, 22)
            println(mapOfParticipantItem)

            mapOfParticipantItem = numberOfTimeIWasNominatedBy(it.filter { it.id?.toInt() != 1 }, 1)
            println(mapOfParticipantItem)

        }


    }

    @Test
    fun testSBH() {
        showDetail.participants?.let { lstParticipants ->
            val allParticipantItem = lstParticipants.associate { participantItem ->
                (participantItem.name?.subSequence(0, 4).toString()) to
                        (participantItem.history?.filter { historyItem ->
                            historyItem.notes?.contains(
                                "SBH"
                            ) == true
                        }?.size?.toDouble() ?: 0.0)
            }
            val sortedEmployeeMap = allParticipantItem.toList()
                .sortedByDescending { it.second }
                .toMap()
        }
    }


    fun numberOfTimeIWasNominatedBy(
        participantList: List<ParticipantItem>,
        yourUserId: Int // Replace with your user ID
    ): Map<String, Int> {
        return participantList
            .associate { participant ->
                val participantName = participant.name ?: ""

                val nominationsCount = participant.history?.count { historyItem ->

                    historyItem.nominatedBy?.any { it.id?.toInt() == yourUserId } == true
                } ?: 0

                participantName to nominationsCount
            }
    }
    fun numberOfTimesInominates(
        participantList: List<ParticipantItem>,
        yourUserId: Int // Replace with your user ID
    ): Map<String, Int> {
        return participantList
            .associate { participant ->
                val participantName = participant.name ?: ""
                val nominationsCount = participant.history?.count { historyItem ->
                    historyItem.nominations?.any { it == yourUserId } == true
                } ?: 0

                participantName to nominationsCount
            }
    }

}